---
{"dg-publish":true,"permalink":"/cybersecurity/02-pentesting/d09-03-mar/passive-reconnaissance/passive-reconnaissance/"}
---


[Access the lab](https://tryhackme.com/room/passiverecon)

**Passive Reconnaissance**: Collecting information without direct interaction with the target.
Examples include:
- Looking up DNS records from public DNS servers.
- Examining job postings related to the target.
- Reading news articles about the target company

In this lab I am solving Passive reconassiasnce room in thm
![attachments/Pasted image 20250605141345.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605141345.png)

### **Task 1**
just come reading part
![attachments/Pasted image 20250605141521.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605141521.png)
The above are the mentioned topics to be covered in this room

### **Task 2**

Passive Versus Active Recon

Reconnaissance (recon) can be defined as a preliminary survey to gather information about a
target. It is the first step in The Unified Kill Chain to gain an initial foothold on a system. We
divide reconnaissance into:
1. Passive Reconnaissance
2. Active Reconnaissance

Passive reconnaissance activities include many activities, for instance:
- Looking up DNS records of a domain from a public DNS server.
- Checking job ads related to the target website.
- Reading news articles about the target company

Active Reconnaissance: Involves direct engagement with the target, such as:
- Connecting to company servers via HTTP, FTP, or SMTP.
- Performing social engineering attacks.
- Physically accessing company premises

### ðŸ“Š Passive vs. Active Reconnaissance Table

### Passive vs. Active Reconnaissance Table

| Aspect                  | **Passive Reconnaissance**                                         | **Active Reconnaissance**                                         |
| ----------------------- | ------------------------------------------------------------------ | ----------------------------------------------------------------- |
| **Definition**          | Information gathering without directly interacting with the target | Information gathering through direct interaction with the target  |
| **Detection Risk**      | Low â€“ unlikely to be detected                                      | High â€“ can trigger alerts and logs                                |
| **Legality Concerns**   | Generally safer, but still must follow ethical boundaries          | Risk of legal consequences if done without permission             |
| **Examples**            | WHOIS lookups, Google dorking, DNSDumpster, Shodan                 | Port scanning, vulnerability scanning, social engineering         |
| **Tool Examples**       | `whois`, `nslookup`, `dig`, Shodan, DNSDumpster                    | `nmap`, `nikto`, `hydra`, `sqlmap`, Metasploit                    |
| **System Interaction**  | No interaction with target systems                                 | Direct interaction with target systems                            |
| **Noise Level**         | Minimal (silent, stealthy)                                         | Noisy (generates noticeable network traffic)                      |
| **Purpose**             | Covert intel gathering to understand target structure              | Probing and mapping systems to find vulnerabilities               |
| **Timing**              | Typically done in early phases of engagement                       | Usually follows passive recon or as part of vulnerability testing |
| **Usage in Pentesting** | Used to gather preliminary intel and plan attacks                  | Used for exploitation and vulnerability confirmation              |

![attachments/Pasted image 20250605141838.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605141838.png)
Thus , we have successfully completed task 2

#### **Task 3**
### **WHOIS Overview**

**WHOIS** is a request and response protocol defined in **RFC 3912**, used to query databases
that store registered users or assignees of Internet resources (such as domain names or IP
address blocks).

--- 
### **Protocol Basics**
- **Protocol**: WHOIS
- **Port**: TCP 43
- **Operation**: A client sends a query to the WHOIS server, which responds with textual data about the queried resource.

---
### **Managed By**
- **WHOIS** servers are maintained by **domain registrars**
- The **registrar** is responsible for storing and providing up-to-date records of the domains it manages.

---
### **Information Provided by WHOIS**
| Field                       | Description                                                                                                                                                                                    |
| --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Registrar**               | The company through which the domain was registered (e.g., Namecheap, GoDaddy).                                                                                                                |
| **Registrant Contact Info** | May include name, organization, address, email, and phone number. _(Often masked using privacy protection services.)_                                                                          |
| **Dates**                   | - **Creation Date**: When the domain was first registered.  <br>- **Last Updated**: When it was most recently changed.  <br>- **Expiration Date**: When the domain will expire if not renewed. |
| **Name Servers**            | Indicates which DNS servers are responsible for resolving the domain name to IP addresses.                                                                                                     |

---
### **Example Query**
`whois tryhackme.com`

**Output includes:**

- Registrar: Namecheap, Inc.
- Name Servers: e.g., ns1.cloudflare.com , ns2.cloudflare.com
- Creation Date: 2018-05-31
- Expiry Date: 2025-05-31

![attachments/Pasted image 20250605142602.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605142602.png)

Example whois usage
![attachments/Pasted image 20250605142628.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605142628.png)
![attachments/Pasted image 20250605142640.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605142640.png)

![attachments/Pasted image 20250605142652.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605142652.png)

#### **Task 4**
### Using `nslookup` to Find Domain Information

`nslookup` (Name Server Lookup) is a command-line tool used to query **Domain Name
System (DNS)** servers to obtain domain name or IP address mappings, as well as other DNS
records.

---
### **Basic Syntax**
`nslookup [OPTIONS] DOMAIN_NAME [DNS_SERVER]`

- DOMAIN_NAME : The domain you want to look up (e.g., tryhackme.com ).
- OPTIONS : Optional query parameters to specify the type of DNS record.
- DNS_SERVER : The DNS server you want to query (e.g., 8.8.8.8 for Google DNS).

---
### **Example**

`nslookup tryhackme.com`
â†’ This returns the default A record (IPv4 address) for tryhackme.com .

`nslookup -type=MX tryhackme.com 1.1.1.1`
â†’ This queries the Mail Exchange (MX) records of the domain using Cloudflare's DNS
server.

---
### **Common Public DNS Servers**
|Provider|DNS Servers|
|---|---|
|**Google**|`8.8.8.8`, `8.8.4.4`|
|**Cloudflare**|`1.1.1.1`, `1.0.0.1`|
|**Quad9**|`9.9.9.9`, `149.112.112.112`|

---
### **Common Query Types**
| Query Type | Description                                                          |
| ---------- | -------------------------------------------------------------------- |
| `A`        | Returns the **IPv4** address of the domain                           |
| `AAAA`     | Returns the **IPv6** address                                         |
| `CNAME`    | Provides the **canonical name** (alias) for the domain               |
| `MX`       | Lists the domainâ€™s **mail servers**                                  |
| `SOA`      | Shows the **Start of Authority** record                              |
| `TXT`      | Displays **text records**, such as SPF, DKIM, or verification tokens |

![attachments/Pasted image 20250605143115.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605143115.png)

![attachments/Pasted image 20250605143126.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605143126.png)

### **Task 5**
### **Discovering Subdomains and Using DNSDumpster**

DNS lookup tools like nslookup and dig are useful, but they cannot identify subdomains
by default. However, uncovering subdomains is essential, as they may reveal additional
services and entry points that could expose critical information about a target.

For example, if the domain tryhackme.com has subdomains such as wiki.tryhackme.com or
webmail.tryhackme.com , these might contain outdated services or misconfigured applications
â€”potential vulnerabilities waiting to be discovered.

### **How to Find Subdomains**
There are a few common techniques for discovering subdomains:
1. Search Engine Enumeration
   Use multiple search engines (Google, Bing, DuckDuckGo, etc.) to gather publicly known subdomains. Since subdomains are often not prominently listed, you may need to review many pages of results to find useful leads.
2. Brute Force Subdomain Enumeration
   This technique involves systematically querying DNS with a list of common subdomain names to check for valid responses. While effective, it can be time-consuming and requires good wordlists.
3. Online Tools â€“ DNSDumpster
   To speed up the process, you can use platforms like DNSDumpster. This tool provides a comprehensive summary of DNS-related data for a domain in a single query.

---
### **What DNSDumpster Reveals**

When you search for `tryhackme.com` on DNSDumpster, it provides:

- **Discovered Subdomains**: e.g., blog.tryhackme.com , not visible via standard DNS queries.
- **DNS Servers**: A list of authoritative name servers.
- **IP Addresses**: Resolved IPs for each domain/subdomain.
- **Geolocation Data**: Approximate physical locations of the IP addresses.
- **MX Records**: Mail servers and their respective IPs and ownership details.
- **TXT Records**: Information like SPF records and domain verification entries.
- **Visual Map**: A graphical view of the domain's infrastructure and network relationships.

All of this information is retrieved in a single query, making DNSDumpster a powerful tool for
passive reconnaissance and subdomain enumeration.

![attachments/Pasted image 20250605143714.png](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605143714.png)
![attachments/Pasted image 20250605143719.png](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605143719.png)

### Task 6 :
### **Using Shodan.io for Passive Reconnaissance**

When performing a **penetration test** on specific targets, Shodan.io can be a valuable tool
during the passive **reconnaissance phase**. It allows you to gather information about a client's
infrastructure **without directly interacting with their systems**.

On the defensive side, Shodan.io can also help organizations identify exposed or vulnerable
devices connected to their network.

---
### **What is Shodan.io?**

Unlike traditional search engines that index web pages, Shodan.io scans and indexes
internet-connected devices. It attempts to connect to every publicly reachable device, and
when it receives a response, it records detailed information about the service and stores it in its
searchable database.

For instance, looking up tryhackme.com on Shodan may reveal a web server or other
associated services.

--- 
### **Information Shodan.io Can Reveal**

A single search on Shodan.io can uncover details such as:
- IP Address
- Hosting Provider
- Geographic Location
- Server Type and Version

Additionally, you can input IP addresses gathered from previous DNS lookups to learn more
about the systems behind those IPs. Keep in mind that IP addresses may change over time.

---
### **Tips for Using Shodan**

- Explore Shodanâ€™s search syntax and filters on its help page to refine your queries.
- You donâ€™t need a premium account to perform basic searches.
- TryHackMe also provides an interactive lab on using Shodanâ€”it's recommended to check it out for hands-on practice.

![attachments/Pasted image 20250605144104.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605144104.png)
![attachments/Pasted image 20250605144113.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605144113.png)

![attachments/Pasted image 20250605144125.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605144125.png)

![attachments/Pasted image 20250605144135.png|900](/img/user/Cybersecurity/02_Pentesting/D09_03%20Mar/Passive%20Reconnaissance/attachments/Pasted%20image%2020250605144135.png)